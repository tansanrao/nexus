# Grokmirror Configuration for Linux KB
# This file configures grokmirror to mirror all lore.kernel.org mailing list archives
#
# Usage:
#   1. Install grokmirror: pip install grokmirror
#   2. Edit this file to set the correct toplevel path
#   3. Run manually: grok-pull -c grokmirror.conf
#   4. Or set up as a cron job or systemd service (see GROKMIRROR_SETUP.md)

[core]
# Where to store the mirrored repositories
# This should match the MIRROR_BASE_PATH in your API server configuration
toplevel = ./mirrors

# Log file location
log = ./mirrors/grokmirror.log

[remote]
# The remote site to mirror from
site = https://lore.kernel.org

# The manifest file that lists all repositories
manifest = https://lore.kernel.org/manifest.js.gz

[pull]
# Number of parallel threads to use for pulling (be considerate, don't set too high)
pull_threads = 4

# Refresh interval in seconds (only used in daemon mode)
# 300 seconds = 5 minutes (recommended)
refresh = 300

# Optional: Specify which lists to mirror
# Comment out the include lines to mirror ALL lists (recommended)
# Uncomment and customize to mirror only specific lists:
#
# include = /lkml/*
#           /netdev/*
#           /bpf/*
#           /linux-kernel/*
#
# By default, grokmirror will mirror ALL repositories in the manifest
# This is the recommended approach for Linux KB

[fsck]
# Git repository maintenance settings
# These settings are used by grok-fsck to maintain repository health

# Check for corruption
check = yes

# Repack repositories periodically to save space
repack = yes

# How often to run full repack (in days)
repack_all_quick_every = 30
repack_all_full_every = 90
